(this["webpackJsonpinsta-clone"]=this["webpackJsonpinsta-clone"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},133:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(88),s=a(13),r=(a(120),a(121),a(208)),o=a(213),l=a(212),i=a(209),j=a(210),u=(a(122),a(84)),b=(a(164),a(55)),d=a(38),p=a(51),m=Object(u.a)({apiKey:"AIzaSyDRH3FFiCzcX_FeG6jrtRJedA58jmCCdH4",authDomain:"instabyvaishali.firebaseapp.com",projectId:"instabyvaishali",storageBucket:"instabyvaishali.appspot.com",messagingSenderId:"317255263530",appId:"1:317255263530:web:0eef1bd5f30b8ea06eaa53",measurementId:"G-FJ68NWV7GC"}),O=Object(b.b)(m),h=Object(d.b)(m),g=Object(p.b)(m),f=Object(p.c)(g),x=a(58),v=a(94),N=a.n(v),y=(a(123),a(7)),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function C(){var e,t,a=Object(c.useState)(""),n=Object(s.a)(a,2),o=n[0],u=n[1],b=Object(c.useState)(""),m=Object(s.a)(b,2),h=m[0],g=m[1],v=Object(c.useState)(0),C=Object(s.a)(v,2),w=C[0],S=C[1],U=Object(c.useState)(null),k=Object(s.a)(U,2),E=k[0],I=k[1],F=Object(c.useState)(!1),R=Object(s.a)(F,2),L=R[0],B=R[1],P=Object(c.useState)(!1),D=Object(s.a)(P,2),G=D[0],J=D[1],z=Object(d.b)(),A=z.currentUser,H=function(){null!=A&&g(A.displayName);var e=Object(p.c)(f,"images/".concat(E.name)),t=Object(p.d)(e,E);t.on("state_changed",(function(e){var t=100*Math.random(e.bytesTransferred/e.totalBytes);console.log("prog",t),S(t)}),(function(e){console.log(e),alert(e.message)}),(function(){console.log(h),Object(p.a)(t.snapshot.ref).then((function(e){console.log(e+"....."+typeof e),Object(x.a)(Object(x.b)(O,"posts"),{timestamp:Object(x.g)(),caption:o,imageUrl:e,username:h})})),S(""),I(null),u(""),B(!1)}))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(i.a,{onClick:function(){return B(!0)},className:"add_post-btn ".concat(null!==(e=z.currentUser)&&void 0!==e&&e.displayName?"":"hide"," "),children:Object(y.jsx)(N.a,{fontSize:"large",className:"add_post"})}),null!==(t=z.currentUser)&&void 0!==t&&t.displayName?Object(y.jsx)(r.a,{onClose:function(){return B(!1)},open:L,children:Object(y.jsxs)(l.a,{sx:_,className:"popup-modal",children:[Object(y.jsx)("progress",{value:w,max:"100",className:"progress-bar"}),Object(y.jsx)(j.a,{className:"popup-input",type:"text",placeholder:"Enter a caption...",onChange:function(e){return u(e.target.value)}}),Object(y.jsx)(j.a,{className:"popup-input",type:"file",placeholder:"Enter image ...",onChange:function(e){return function(e){e.target.files[0]&&(I(e.target.files[0]),document.getElementsByClassName("popup-btn")[0].disabled=!1)}(e)}}),null!=E?Object(y.jsx)(i.a,{type:"submit",onClick:H,className:"popup-btn",children:"Upload"}):Object(y.jsx)(i.a,{type:"submit",onClick:H,className:"popup-btn",disabled:!0,children:"Upload"})]})}):Object(y.jsx)(r.a,{onClose:function(){return J(!1)},open:G,children:Object(y.jsx)(l.a,{sx:_,className:"popup-modal",children:Object(y.jsx)("h2",{children:"Sorry you need to login to upload"})})})]})}var w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function S(){var e,t,a=Object(c.useState)(!1),n=Object(s.a)(a,2),u=n[0],b=n[1],p=Object(c.useState)(!1),m=Object(s.a)(p,2),O=m[0],g=m[1],f=Object(c.useState)(""),x=Object(s.a)(f,2),v=x[0],N=x[1],_=Object(c.useState)(""),S=Object(s.a)(_,2),U=S[0],k=S[1],E=Object(c.useState)(""),I=Object(s.a)(E,2),F=I[0],R=I[1],L=Object(c.useState)(null),B=Object(s.a)(L,2),P=B[0],D=B[1],G=Object(c.useState)(null),J=Object(s.a)(G,2),z=J[0],A=J[1];Object(c.useEffect)((function(){var e=Object(d.c)(h,(function(e){D(e||null)}));return function(){e()}}),[P,v]);return Object(y.jsxs)(y.Fragment,{children:[P?Object(y.jsxs)("div",{className:"btns",children:[Object(y.jsx)(i.a,{onClick:function(){document.getElementsByClassName("logout_btn")[0].classList.toggle("hide")},className:"profile_btn",children:Object(y.jsx)(o.a,{className:"header_avatar",alt:null===(e=h.currentUser)||void 0===e?void 0:e.displayName,src:null!==(t=h.currentUser)&&void 0!==t&&t.photoURL?h.currentUser.photoURL:"/static/images/1.png"})}),Object(y.jsx)(i.a,{className:"logout_btn hide",onClick:function(){return h.signOut()},children:"Log Out"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(i.a,{onClick:function(){return g(!0)},children:"Sign In"}),Object(y.jsx)(i.a,{onClick:function(){return b(!0)},children:"Sign Up"})]}),Object(y.jsx)(r.a,{onClose:function(){return b(!1)},open:u,children:Object(y.jsx)(l.a,{sx:w,children:Object(y.jsxs)("form",{className:"login_form signup_form",children:[Object(y.jsx)(j.a,{placeholder:"Username",type:"text",value:v,className:"form_name",onChange:function(e){return N(e.target.value)}}),Object(y.jsx)(j.a,{placeholder:"Email",type:"email",value:U,className:"form_email",onChange:function(e){return k(e.target.value)}}),Object(y.jsx)(j.a,{placeholder:"Password",type:"password",value:F,className:"form_password",onChange:function(e){return R(e.target.value)}}),Object(y.jsx)(j.a,{placeholder:"Profile Pic",type:"text",value:z,className:"form_pic",onChange:function(e){return A(e.target.value)}}),Object(y.jsx)(i.a,{type:"submit",className:"signup_btn",onClick:function(e){e.preventDefault(),Object(d.a)(h,U,F).then((function(e){console.log("a2",e.user),Object(d.e)(e.user,{displayName:v,photoURL:z}).then((function(){console.log("Profile updated!!",e.user),b(!1)}))})).catch((function(e){return alert(e.message)}))},children:"Sign up"})]})})}),Object(y.jsx)(r.a,{onClose:function(){return g(!1)},open:O,children:Object(y.jsx)(l.a,{sx:w,children:Object(y.jsxs)("form",{className:"login_form",children:[Object(y.jsx)(j.a,{placeholder:"Email",type:"email",value:U,className:"form_email",onChange:function(e){return k(e.target.value)}}),Object(y.jsx)(j.a,{placeholder:"Password",type:"password",value:F,className:"form_password",onChange:function(e){return R(e.target.value)}}),Object(y.jsx)(i.a,{type:"submit",className:"signin_btn",onClick:function(e){e.preventDefault(),Object(d.d)(h,U,F).then((function(e){console.log(e),g(!1)})).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})})}),Object(y.jsx)(C,{})]})}function U(){return Object(y.jsx)("div",{className:"header_wrapper",children:Object(y.jsxs)("div",{className:"header_wrap",children:[Object(y.jsx)("a",{href:"/",children:Object(y.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"logo"})}),Object(y.jsx)("div",{className:"header-right",children:Object(y.jsx)(S,{})})]})})}a(133);function k(e){var t,a,c,n,s=e.caption,r=e.imageUrl,l=Object(d.b)();l.currentUser;return Object(y.jsxs)("div",{className:"post_wrapper",children:[Object(y.jsxs)("div",{className:"post_header",children:[Object(y.jsx)(o.a,{className:"post_avatar",alt:null===(t=l.currentUser)||void 0===t?void 0:t.displayName,src:null!==(a=l.currentUser)&&void 0!==a&&a.photoURL?l.currentUser.photoURL:"/static/images/1.png"}),Object(y.jsx)("h3",{className:"",children:null===(c=l.currentUser)||void 0===c?void 0:c.displayName})]}),Object(y.jsx)("div",{className:"post_content",style:{backgroundImage:"url(".concat(r,")")},children:Object(y.jsx)("img",{src:r,className:"post_image"})}),s?Object(y.jsxs)("div",{className:"post_caption",children:[Object(y.jsx)("h4",{className:"post_caption-name",children:null===(n=l.currentUser)||void 0===n?void 0:n.displayName}),Object(y.jsx)("p",{className:"post_caption-text",children:s})]}):""]})}var E=a(97);function I(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),o=Object(s.a)(r,2),l=o[0],i=o[1];return Object(c.useEffect)((function(){var e=Object(d.c)(h,(function(e){i(e||null)})),t=Object(b.e)(Object(b.a)(O,"posts"),Object(b.d)("timestamp","desc"));Object(b.c)(t,(function(e){n(e.docs.map((function(e){return e.data()})))}));return e}),[a]),Object(y.jsxs)("div",{className:"app_wrapper",children:[Object(y.jsx)(U,{}),Object(y.jsxs)("div",{className:"body_wrapper ".concat(l?"":"no-data"),children:[Object(y.jsx)("div",{className:"body_left_wrapper",children:l?Object(y.jsx)(y.Fragment,{children:a.map((function(e){return Object(y.jsx)(k,{username:e.username,caption:e.caption,imageUrl:e.imageUrl},e.id)}))}):Object(y.jsx)("div",{className:"no-data-div",children:Object(y.jsx)("h2",{children:"Sorry you need to login"})})}),Object(y.jsx)("div",{className:"body_right_wrapper",children:Object(y.jsx)("div",{children:Object(y.jsx)(E.InstagramEmbed,{url:"https://www.instagram.com/p/Ck3CAHBjm0G/",width:328,captioned:!0})})})]})]})}var F=document.getElementById("root");Object(n.createRoot)(F).render(Object(y.jsx)(c.StrictMode,{children:Object(y.jsx)(I,{})}))}},[[163,1,2]]]);
//# sourceMappingURL=main.f7cb709a.chunk.js.map